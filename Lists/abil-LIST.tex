%%%%%
%%
%% This file sets up the Abil datatype and creates Abil macros.  These
%% are for abilities that characters may have.
%%
%%%%%

\DECLARESUBTYPE{Abil}{Element}
\PRESETS{Abil}{
  \F\MYtext	%% text of ability, read by user
  \F\MYeffect	%% effect text of ability, read by recipient(s)
  }


%%%%%
%% \ability{<name>}{<text>}{<effect>}
%%
%% \ability is a wrapper around \INSTANCE, useful for 1-shot abilities,
%% etc.
\newinstance{Abil}{\ability[3]}{
  \s\MYname{#1}\s\MYtext{#2}\s\MYeffect{#3}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aTest}{
  \s\MYname	{Test Ability}
  \s\MYtext	{You are a test.}
  \s\MYeffect	{This is a Test.}
  }

\NEW{Abil}{\aSpecial}{
  \s\MYname	{Special Powers}
  \s\MYtext	{You have special powers, as detailed in your \gTest{}
		greensheet.}
  \s\MYeffect	{I have special powers!}
  \s\MYgreens	{\gTest{}}
  \suite
  }

\NEW{Abil}{\aFiremansCarry}{
  \s\MYname	{Fireman's Carry}
  \s\MYtext	{You can carry a body as if it were two hands bulky.}
  \s\MYeffect	{I can carry this body well.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


  
%% Basic DarkWater-style Martial Attack abilities


%% Everyone has these 3
\NEW{Abil}{\aAssist}{
  \s\MYname	{Assist}
  \s\MYtext	{You can assist someone else's attack.  You must be
		within ZoC of both the attacker and target.  Within two
		seconds of an attack, direct this at the attacker,
		saying ``\MYname'' and your CR.}
  \s\MYeffect	{I assist your attack.}
  }
%everyone
\NEW{Abil}{\aKnockOut}{
  \s\MYname	{Knock Out}
  \s\MYtext	{You can knock someone out as an attack. Say your CR.}
  \s\MYeffect	{I knock you out.}
  }

\NEW{Abil}{\aWound}{
  \s\MYname	{Wound}
  \s\MYtext	{You can wound someone as an attack.  This requires an
		{\bf edged} weapon, such as a knife.  Say ``\MYname'' and
		your CR.}
  \s\MYeffect	{I wound you.}
  }


%% the \basecombat macro can be prepended to the Char abils list
%% (in char-LIST.tex)
\def\basecombat{\aKnockOut{}\aWound{}\aAssist{}}

%% only some people have these
\NEW{Abil}{\aDisarm}{
  \s\MYname	{Disarm}
  \s\MYtext	{You can disarm one item from someone as an attack.  Say
		``\MYname'' and your CR.  Point at the item you want to
		disarm.  If the attack works, they must drop that item.}
  \s\MYeffect	{I disarm that item.}
  }

\NEW{Abil}{\aRestrain}{
  \s\MYname	{Restrain}
  \s\MYtext	{You can restrain someone as an attack.  Say ``\MYname''
		and your CR.  You may freely drag, attack, or (if you have
		a weapon) killing-blow them.  To do anything else, or if
		your health state changes, incant ``release'' and let them
		go.}
  \s\MYeffect	{I restrain you.  You are restrained until I incant
		``release.''}
  }
\NEW{Abil}{\aThrow}{
  \s\MYname	{Throw}
  \s\MYtext	{You can throw someone as an attack.  Say ``\MYname'' and
		your CR.  Point in the direction you want to throw them.}
  \s\MYeffect	{I throw you.  Go in the direction I point ten full steps
		or until you hit a wall or similar.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Salo, Maxenes, Meizon, Cryseon (and possibly Delia and Moenia, if they tell 12+ fortunes)
%Dusty Diadem adds one instance of truthing
\NEW{Abil}{\aTruthingOne}{
  \s\MYname	{Royal Truthing Magic (1x)}
  \s\MYtext	{You can use magic to determine how truthful someone's statement is. Show your target the "Truthing" greensheet for further details.}
  \s\MYeffect	{I observe you and use royal magic to determine your honesty. This is obvious to everyone within sight.}
  }
%Eidola, Hiems
\NEW{Abil}{\aTruthingTwo}{
  \s\MYname	{Royal Truthing Magic (2x)}
  \s\MYtext	{You can use magic to determine how truthful someone's statement is. Show your target the "Truthing" greensheet for further details.}
  \s\MYeffect	{I observe you and use royal magic to determine your honesty. This is obvious to everyone within sight.}
  }
%Paldeen
  \NEW{Abil}{\aTruthingResistanceOne}{
  \s\MYname	{Truthing Resistance (1x)}
  \s\MYtext	{Thanks to years of practice, you have gained an ability that has never before been heard of-- you can resist royal truthing magic. If someone uses the truthing magic mechanic to judge one of your statements, then they will ask you to rate how straightforward and informed your statement is. You can respond to their questioning by giving any ratings that you want.}
  \s\MYeffect	{I appear completely vulnerable to truthing magic.}
  }
 %Eidola
    \NEW{Abil}{\aTruthingResistanceTwo}{
  \s\MYname	{Truthing Resistance (2x)}
  \s\MYtext	{Thanks to years of practice, you have gained an ability that has never before been heard of-- you can resist royal truthing magic. If someone uses the truthing magic mechanic to judge one of your statements, then they will ask you to rate how straightforward and informed your statement is. You can respond to their questioning by giving any ratings that you want.}
  \s\MYeffect	{I appear completely vulnerable to truthing magic.}
  }
%Ghosts
   \NEW{Abil}{\aSoulAttack}{
  \s\MYname	{Soul Attack}
  \s\MYtext	{You use otherworldly energy to attack your target's very soul.}
  \s\MYeffect	{A black zigzag strikes you, dealing 1 unit of psychic damage, reducing you to a minimum of 0 psychic health.}
  }
  %Leda, Izdubar
     \NEW{Abil}{\aKillingBlow}{
  \s\MYname	{Killing Blow (1x)}
  \s\MYtext	{Either through a flurry of well-aimed blows or through strangulation (your choice), you can inflict a killing blow upon an unconscious, willing or paralyzed victim. This mechanic requires a 5-count and is interruptible; you can reuse this ability if interrupted. Your CR must be at least 1 to use this technique.}
  \s\MYeffect	{I physically assault you with deadly force.}
  }
    %Leda, Izdubar, Maxenes, Prymnesios
       \NEW{Abil}{\aTamper}{
  \s\MYname	{Food Tampering}
  \s\MYtext	{You can lace a food item with another chemical (an item numbered between 0016 and 0021). Hold the food item in one hand and the chemical in the other hand for one minute. Then place the chemical inside the food item's envelope and put a sticker on the outside of the envelope. This is an interruptible mechanic. You can perform this mechanic in the kitchen or elsewhere.}
  \s\MYeffect	{I am lacing this food with another chemical.}
  }
    %Leda, Izdubar
       \NEW{Abil}{\aNeedlePoison}{
  \s\MYname	{Sly Poisoning}
  \s\MYtext	{You can stealthily murder someone by stabbing them precisely with a poisoned sewing needle (item #0009). First sneak up on them, spending one minute within 1 ZOC of them. Then put a sticker on them, consuming the needle. If you are noticed or interrupted when placing the sticker, the attempt fails, but the needle is not consumed. If the attempt succeeds, tell a GM immediately.}
  \s\MYeffect	{You collapse, dead. This is an acute poisoning effect.}
  }
  %Leda, Izdubar
\NEW{Abil}{\aImprovedWaylay}{
  \s\MYname	{Improved Waylay}
  \s\MYtext	{You can waylay someone in 5-seconds.}
  \s\MYeffect	{I swiftly knock you out.}
  }
  %Salo
\NEW{Abil}{\aFistOfWrath}{
  \s\MYname	{Fist of Wrath (1x)}
  \s\MYtext	{If you whole-heartedly believe someone caused your mother's death, you can inflict a killing blow upon that person, provided they are unconscious, willing or paralyzed. Your CR must be at least 1 to use this ability.}
  \s\MYeffect	{I attack you with deadly force, propelled by vengeful rage.}
  }
  %Delia
  \NEW{Abil}{\aImprovedLockpicking}{
  \s\MYname	{Improved Lockpicking}
  \s\MYtext	{When lockpicking, you can treat every lock's Difficulty as 1 point lower.}
  \s\MYeffect	{I am excellent at picking locks.}
  }
  
 %Moenia
\NEW{Abil}{\aSoullessness}{
  \s\MYname	{Soullessness}
  \s\MYtext	{You lack a soul. You do not have a max psychic health and are unaffected by psychic damage.  You believe that you will be hurt by your soulessness after your death. }
  \s\MYeffect	{I am unaffected by psychic damage.}
  }
  
 %Max, Eidola
\NEW{Abil}{\aBluffmasterCommon}{
  \s\MYname	{Bluffmaster Talent (Unlimited Uses)}
  \s\MYtext	{You can treat your Bluffmaster roll as 2 higher.}
  \s\MYeffect	{My roll is treated as 2 higher.}
}
   %Semiramis, Paldeen, Fresi, Hiems
\NEW{Abil}{\aBluffmasterMedium}{
  \s\MYname	{Bluffmaster Talent (3x)}
  \s\MYtext	{You can treat your Bluffmaster roll as 4 higher.}
  \s\MYeffect	{My roll is treated as 4 higher.}
  }
  
%Delia, Leda
\NEW{Abil}{\aBluffmasterRare}{
  \s\MYname	{Bluffmaster Talent (2x)}
  \s\MYtext	{You can treat your Bluffmaster roll as 6 higher.}
  \s\MYeffect	{My roll is treated as 6 higher.}
}
 %Maxenes
\NEW{Abil}{\aBluffmasterInsight}{
  \s\MYname	{Bluffmaster Insight (3x)}
  \s\MYtext	{Thanks to experience, you can analyze other people's playing styles. You must watch someone play for a full round before using this ability on them.}
  \s\MYeffect	{I observe your playing style. Show me your Bluffmaster abilities, if any.}
}
 %Fresi
\NEW{Abil}{\aHack}{
  \s\MYname	{Hacking}
  \s\MYtext	{If you spend two minutes analyzing a communications machine, you can hack it and better understand the effects of the machine's buttons.}
  \s\MYeffect	{I carefully examine a communications machine.}
}
 %Salo
\NEW{Abil}{\aPoetryBonus}{
  \s\MYname	{Poetry Bonus}
  \s\MYtext	{Whenever you roll a D20 to complete a poetry-related task, you can choose to add 5 to your roll.}
  \s\MYeffect	{I write exquisite poetry.}
}
 %Max, Prym, Izdubar, Leda, Semiramis, Felix, Delia, Moenia
\NEW{Abil}{\aFirstAid}{
  \s\MYname	{First Aid (2x)}
  \s\MYtext	{If you spend 2 minutes treating someone unconscious, they wake up. If they fell unconscious because their psychic health score was 0, it now increases to 1.}
  \s\MYeffect	{I apply non-magical healing.}
}